^["pico.ceu"]

pico-state-set-title("pico-Ceu: Parallel Across")

data :XY = [x,y]

var f = task (pos :XY,vel:XY) {
    while (true) {
        pico-output-draw-pixel(pos.x,pos.y)
        yield ()
        set pos.x = pos.x + vel.x
        set pos.y = pos.y + vel.y
    }
}

var x = spawn f ([-25,25],[1,-1])
var y = spawn f ([-25,-25],[1,1])
resume x()
resume y()

while (true) {
    pico-input-delay(100)
    resume x()
    resume y()
}
